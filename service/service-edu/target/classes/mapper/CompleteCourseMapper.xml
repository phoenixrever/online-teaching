<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.phoenixhell.serviceEdu.mapper.CompleteCourseMapper">
    <select id="getCompleteCoursePage"
            resultType="com.phoenixhell.serviceEdu.entity.vo.CompleteCourseInfo">
        SELECT ec.id as id,ec.`title` as title,ec.status as status,ed.`description` as description,es.`title`as subjectLevelTwo,es2.`title` as subjectLevelOne ,et.`name` as teacherName, ec.`lesson_num` as lessonNum,ec.`cover` as cover ,ec.`price` as price
        FROM `edu_course` ec
        LEFT JOIN `edu_course_description` ed ON ec.`id`=ed.`id`
        LEFT JOIN `edu_subject` es ON ec.`subject_id`=es.`id`
        LEFT JOIN `edu_subject` es2 ON ec.`subject_parent_id`=es2.`id`
        LEFT JOIN `edu_teacher` et ON ec.`teacher_id`=et.`id`
        <where>
            ${ew.sqlSegment}
        </where>
    </select>
</mapper>
